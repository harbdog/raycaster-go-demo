
<!DOCTYPE html>
<head>
	<title>Raycaster Go Demo</title>
	<link rel="icon" type="image/png" href="favicon.png">
</head>
<style>
	p {
		position: absolute;
		left: 25%;
		width: 50%;
		height: 50%;
		top: 25%;
		margin: auto;
		z-index: -100;
		background: url(gopher-running.svg) center center no-repeat;
	}
</style>
<body>
	<p id="loading_text"></p>
	<script src="wasm_exec.js"></script>
	<script>
		async function loadGame() {
			const go = new Go();
			const response = await fetch("raycaster-go-demo.wasm");
			const buffer = await response.arrayBuffer();
			const obj = await WebAssembly.instantiate(buffer, go.importObject);
			await new Promise(r => setTimeout(r, 500));
			go.run(obj.instance);
			document.getElementById("loading_text").style.display = "none";
		}
		loadGame();
	</script>
</body>
